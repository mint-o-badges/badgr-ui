<div class="tw-relative tw-w-full">
	<div class="oeb page-padding tw-overflow-hidden md:tw-py-[6rem] tw-py-[3rem]">
		<div class="tw-flex tw-justify-center">
			<div class="tw-relative md:tw-w-[70%] tw-w-[90%]">
				<form-message></form-message>

				<!-- OAuth Banner -->
				<oauth-banner></oauth-banner>

				<div class="oeb-headline-container-sm">
					<h1 hlmH1 class="tw-text-purple tw-font-black">{{ 'Profile.createNewPassword' | translate }}</h1>
					<p class="tw-mt-4 tw-flex tw-flex-col tw-gap-4" hlmP>
						<span class="tw-text-oebblack tw-font-bold tw-text-[22px]">
							{{ 'Profile.dontPanic' | translate }}</span
						>
						<span class="tw-text-oebblack tw-text-lg">
							<span class="tw-block"> {{ 'Profile.weIncreasedPasswordRequirements' | translate }}</span>
							<span class="tw-block"> {{ 'Profile.pleaseRenewPassword' | translate }}</span>
						</span>
						<span class="tw-text-oebblack tw-text-lg">
							{{ 'Profile.pleaseRenewPasswordInfo' | translate }}</span
						>
					</p>
				</div>

				<!-- New Password Form -->
				<form
					aria-labelledby="heading-form"
					[formGroup]="changePasswordForm.rawControl"
					(ngSubmit)="submitChange()"
					novalidate
					class="oeb-max-form-width"
				>
					<fieldset role="group" aria-labelledby="heading-forgotpassword">
						<!-- hidden -->
						<legend class="visuallyhidden" id="heading-forgotpassword">Enter a new password</legend>

						<oeb-input
							[control]="changePasswordForm.rawControlMap.current_password"
							label="{{ 'Profile.currentPassword' | translate }}"
							[autofocus]="true"
							errorMessage="{{ 'Profile.enterCurrentPassword' | translate }}"
							[errorOverride]="!!errors['current_password']"
							[fieldType]="'password'"
							#currentPassword_field
						></oeb-input>

						<oeb-input
							[control]="changePasswordForm.rawControlMap.password"
							label="{{ 'Profile.newPassword' | translate }}"
							[autofocus]="true"
							[errorMessage]="{
								required: enterNewPassword,
								minlength: mustBe8Char,
								passwordComplexity: passwordInsecure
							}"
							[fieldType]="'password'"
							sublabel="{{ 'Profile.passwordMinRequirements' | translate }}"
						></oeb-input>

						<oeb-input
							[control]="changePasswordForm.rawControlMap.password2"
							label="{{ 'Profile.repeatNewPassword' | translate }}"
							[errorMessage]="{
								required: enterNewPasswordConfirmation,
								passwordsMatch: passwordsDoNotMatch
							}"
							[fieldType]="'password'"
							[errorGroup]="changePasswordForm"
						></oeb-input>
					</fieldset>

					<div class="tw-flex tw-justify-between tw-flex-wrap sm:tw-flex-nowrap tw-gap-2 tw-mt-8">
						<oeb-button
							class="tw-mr-4"
							variant="secondary"
							type="button"
							[routerLink]="['/auth/login']"
							[disabled-when-requesting]="true"
							text="{{ 'General.cancel' | translate }}"
						></oeb-button>

						<oeb-button
							type="submit"
							width="max_content"
							text="{{ 'Profile.saveNewPassword' | translate }}"
						>
						</oeb-button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
