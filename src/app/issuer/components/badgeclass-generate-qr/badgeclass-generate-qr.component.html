<div class="page-padding oeb tw-text-oebblack">
    <div class="oeb-breadcrumbs">
        <bg-breadcrumbs [linkentries]="crumbs"></bg-breadcrumbs>
    </div>

    <div class="tw-pt-[6rem] tw-pb-[4.4rem] main-paragraph tw-flex tw-justify-between">
        <div>
            <h1>QR-Code Vergabe</h1>
            <h1 class="h1-black heading-sec">{{qrTitle}}</h1>
        </div>
        <button 
            class="tw-items-center tw-justify-center tw-flex tw-cursor-pointer tw-border tw-border-solid tw-border-[var(--color-purple)] tw-rounded-[7px] tw-w-[44.8px] tw-h-[44.8px] md:tw-w-[64px] md:tw-h-[64px]"
            id="actionstrigger" [bgPopupMenuTrigger]="moreMenu">
            <svg fill="var(--color-purple)" icon="icon_more"></svg>
            <span class="visuallyhidden">Mehr</span>
        </button>
        <bg-popup-menu #moreMenu>
            <a class="menuitem" [href]="editQrCodeLink"
                ><svg icon="icon_external_link"></svg>{{ 'General.edit' | translate }}</a
            >
            <button class="menuitem" (click)="openDangerDialog()"
                ><svg icon="icon_external_link"></svg>{{ 'General.delete' | translate }}</button
            >
        </bg-popup-menu>
    </div>
    <div class="tw-pl-[10%] tw-flex tw-flex-col tw-gap-10">
        <div class="tw-flex tw-flex-col md:tw-flex-row tw-max-w-[322px] md:tw-max-w-[668px] tw-gap-8">
            <qrcode (qrCodeURL)="onChangeURL($event)" [qrdata]="qrData" [width]="qrCodeWidth" [className]="qrCodeCSS"></qrcode>
            <div class="tw-flex tw-flex-col tw-gap-2">
                <div class="tw-flex tw-gap-2">
                    <img class="tw-w-[63.58px] tw-h-[63.58px] md:tw-w-[75.61px] md:tw-h-[75.61px] tw-block"
                                    [loaded-src]="badgeClass.image" [loading-src]="badgeLoadingImageUrl"
                                    [error-src]="badgeFailedImageUrl" />
                    <div class="tw-flex tw-flex-col tw-justify-center">
                        <span class="tw-font-bold">Badge</span>
                        <span>{{badgeClass.name}}</span>
                    </div>                
                </div>
                <span class="tw-font-bold">Organisation</span>
                <span>{{issuer}}</span>
                <span class="tw-font-bold">Kampagnen-Ersteller:in</span>
                <span>{{creator}}</span>
                <div class="tw-flex tw-flex-col" *ngIf="validity">
                    <span class="tw-font-bold">GÃ¼ltigkeit des QR-Codes</span>
                    <span>{{validity}}</span>
                </div>
            </div>

        </div>
        <a [href]="qrCodeDownloadLink" download="qrcode" class="tw-max-w-[668px]">
            <oeb-button  width="full_width" text="Download" (click)=openSuccessDialog()></oeb-button>
        </a>
        <oeb-button [routerLink]="['/issuer/issuers', this.issuerSlug, 'badges', badgeClass.slug]" class="tw-max-w-[668px]" width="full_width" variant="secondary" text="Zur Badge Detail Seite"></oeb-button>
    </div>
</div>