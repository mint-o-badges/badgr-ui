<div class="oeb tw-relative tw-w-full" *ngIf="learningPath">
	<ng-template [bgAwaitPromises]="[issuerLoaded, badgeLoaded]">
		<div class="oeb-section tw-bg-lightpurple">
			<div class="page-padding tw-flex tw-justify-between tw-flex-wrap tw-gap-8">
				<div>
					<div class="oeb-headline-container">
						<h1 class="tw-text-oebblack tw-font-extrabold" hlmH1>{{learningPath.name}}</h1>
						<p size="sm" hlmP
							class="tw-text-oebblack">
							Lernpfad von <a hlmA [routerLink]="['/public/issuers/', issuer.slug ]">{{issuer.name}}</a>
						</p>
					</div>
					<form (ngSubmit)="participate()" novalidate>
						<oeb-button hlmBtn type="submit" [text]="participationButtonText"></oeb-button>
					</form>
				</div>
				<div class="tw-relative tw-grow tw-px-16 tw-py-8 tw-bg-oebgrey tw-rounded-[12px] tw-flex tw-justify-center tw-items-center tw-max-w-[500px] tw-min-w-[250px]">
					<div class="tw-absolute tw-top-[12px] tw-right-[12px]">
						<img src="/assets/oeb/images/learningPath/learningPathIcon.png" class="tw-w-[40px]" alt="LearningPath" />
					</div>
					<img class="tw-w-[120.88px] tw-h-[120.88px] md:tw-w-[172.69px] md:tw-h-[172.69px] tw-mx-auto tw-block"
						[loaded-src]="badge.image"
					 />
				</div>
			</div>
		</div>
		<div class="page-padding">
			<div class="tw-grid tw-grid-cols-2 tw-gap-8">
				<div>
					<div class="oeb-section-sm">
						<h3 hlmH3 class="tw-text-oebblack tw-font-bold">Beschreibung</h3>
						<p hlmP>{{learningPath.description}}</p>
					</div>
					<div class="oeb-section-sm">
						<h3 hlmH3 class="tw-text-oebblack tw-font-bold">Enthaltene Badges</h3>
					</div>
				</div>
				<div *bgAwaitPromises="[issuerLoaded]">
					<oeb-issuerCard [issuer]="issuer"></oeb-issuerCard>
				</div>
			</div>
			<div>
				<div class="oeb-section-sm">
					<h3 hlmH3 class="tw-text-oebblack tw-font-bold">Lern weiter</h3>
					<oeb-backpack-tabs (onTabChanged)="onTabChange($event)" [tabs]="tabs"></oeb-backpack-tabs>
				</div>
			</div>
		</div>
	</ng-template>
	<ng-template #allTemplate [bgAwaitPromises]="learningPath">
		<div class="tw-relative" *ngFor="let badge of learningPath.badges.reverse(); let i = index">
			{{badge.badge_name}}
			<!-- <bg-badgecard [badgeTitle]="badge.badge_name"
				class="tw-max-w-[300px]"
				
				[issuerTitle]="badge.badge_id"
				public="true"
				[badgeClass]="true"></bg-badgecard> -->
		</div>
	</ng-template>
	<ng-template #openTemplate><div>all</div></ng-template>
	<ng-template #finishedTemplate><div>all</div></ng-template>
</div>